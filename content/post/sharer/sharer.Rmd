---
title: "R로 만든 주식리포트"
author: "Brad Boehmke"
date: '`r Sys.Date()`'
output: html_document
params:
  symbol:
    choices:
    - AMZN
    - GOOG
    - FB
    value: AMZN
---

다음은 GitHub에 올린 Brad Boehmke의 주식리포트에 관한 R로, 데이터를 받아 등락을 보여주며 DT패키지를 통해 간결하며 검색가능한 상호관계 테이블을 보여줍니다. 

# Stock: `r params$symbol`

```{r, message=FALSE, echo=FALSE}
# Packages used - run the next two lines of code if you do not have these
# packages installed on your computer
# pkgs <- c("xts", "quantmod")
# install.packages(pkgs)
library(xts)
library(quantmod)
# load data
prices <- getSymbols(params$symbol, auto.assign = FALSE)
# get the most recent opening & closing prices
move <- Cl(last(prices)) - Op(last(prices))
```

두가지 라이브러리를 사용한다. xts와 quantmod에 대해서는 추후 자세히 알아보자


## Recommendation: `r ifelse(move > 0, "BUY", "SELL")`

`r params$symbol` will `r ifelse(move > 0, "increase", "decrease")` in price during the next trading period. 

다음거래기간동안 오르거나 내리거나를 말한다. 

## Price History

The chart below is made with the `quantmod` R package, a widely used package for collecting and visualizing financial data in R. You can learn more about `quantmod` at the website [www.quantmod.com](rstudio.github.io/DT/).  

아래 챠트는 Quantmod, R package에 있다. 수집과 비쥬얼라이징으로 파이낸셜 데이터를 나타낸다. 

***

```{r, echo=FALSE, fig.align='center', fig.width=9}
# plot historical stock prices
chartSeries(prices, theme = chartTheme("white", bg.col = "white"))
```


## Method

This forecast was predicted with the *recency algorithm*, a simple---probably useless---method for determining stock prices. The recency algorithm predicts that the next price movement, $M_{j}$, will be in the same direction as the most recent price movement. $M_{i}$.

이 예측은 리센시 알고리즘이었다. 단순한 방법이며 다음 가격의 움직임을 예측, $M_{i}$,으로 가장 최근의 가격움직임으로 가격의 움직임을 예측한다. 

$$M_{i}= Close_{i} - Open_{i}$$

$$
    M_{j}= 
        \begin{cases}
                > 0,  & \text{if } M_{i} > 0\\
                \leq 0, & \text{if } M_{i}\leq 0
        \end{cases}
$$
## Raw Data

The table below displays the daily price data for the stock. In the next section, we will learn how to make a concise, interactive table with the `DT` package, a new package for making searchable data tables. You can learn more about the `DT` package at the website [rstudio.github.io/DT/](rstudio.github.io/DT/).  

+ the table below displays the daily price data for stock 아래 테이블에서 주식 일일데이터를 나타낸다.

+ we will learn how to make a concise, interactive table with the `DT` package, a new package for making searchable data tables. 다음섹션에서는 DT라는 새로운 페키지로 간결한 Interactive table을 만드는 방법을 배운다. 이 페키지는 searchable data table을 만들기위한 패키지다. 

***

```{r, echo=FALSE, comment=' '}
# show stock info for last 7 days
knitr::kable(tail(prices, 7)[, 1:5], caption = 'Stock information for last 7 business days')
```
